<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/dashboard.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="d-flex">

    <div class="sidebar bg-dark text-white p-3">
        <h2 class="mb-4">Mobile <span class="text-warning">SHOP</span></h2>
        <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link active" href="#">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" href="/customers">Quản lý khách hàng</a></li>
            <li class="nav-item"><a class="nav-link" href="/products">Quản lý điện thoại</a></li>
            <li class="nav-item"><a class="nav-link" href="/invoices">Thông tin mua bán</a></li>
        </ul>
        <div class="mt-auto">
            <a href="/logout" class="btn btn-danger w-100">Sign out</a>
        </div>
    </div>

    <div class="content flex-grow-1 p-4">
        <h1 class="mb-4">Dashboard</h1>
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card p-3 shadow-sm">
                    <p>Tổng doanh thu</p>
                    <h4>350.000.000</h4>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card p-3 shadow-sm">
                    <p>Tổng số đơn đặt hàng</p>
                    <h4>6</h4>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card p-3 shadow-sm">
                    <p>Khách hàng</p>
                    <h4>8</h4>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card p-3 shadow-sm">
                    <p>Khách hàng tiềm năng mới</p>
                    <h4>68</h4>
                </div>
            </div>
        </div>

        <div class="card shadow-sm p-3 mb-4">
            <h5>Báo cáo bán hàng</h5>
            <div class="chart-placeholder bg-light" style="height:250px;">

                <canvas id="salesChart" height="100"></canvas>
            </div>
        </div>

        <div class="row">
            <div class="col-md-8">
                <div class="card shadow-sm p-3 mb-4">
                    <h5>Giao dịch</h5>
                    <table class="table table-hover">
                        <thead>
                        <tr><th>Trạng thái</th><th>Hóa đơn</th><th>Số lượng</th><th>Khách hàng</th></tr>
                        </thead>
                        <tbody>
                        <tr><td><span class="badge bg-success">Hoàn thành</span></td><td>#86</td><td>15.000.000</td><td>Amanda</td></tr>
                        <tr><td><span class="badge bg-warning">Chưa giải quyết</span></td><td>#68</td><td>10.000.000</td><td>David</td></tr>
                        <tr><td><span class="badge bg-danger">Đã hủy</span></td><td>#66</td><td>8.000.000</td><td>Maria</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card shadow-sm p-3 mb-4">
                    <h5>Khách hàng gần đây</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Henry - 8.000.000</li>
                        <li class="list-group-item">Devon - 12.000.000</li>
                        <li class="list-group-item">Jane - 20.000.000</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    const ctx = document.getElementById('salesChart').getContext('2d');
    const salesChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],
            datasets: [{
                label: 'Sales',
                data: [12000, 15000, 18000, 14000, 20000, 25000, 23000, 28000, 26000, 30000, 32000, 35000],
                borderColor: '#4e73df',
                backgroundColor: 'rgba(78, 115, 223, 0.1)',
                fill: true,
                tension: 0.4,
                pointRadius: 4,
                pointBackgroundColor: '#4e73df'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { display: false }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        callback: function(value) {
                            return '$' + value.toLocaleString();
                        }
                    }
                }
            }
        }
    });
</script>
</body>
</html>
